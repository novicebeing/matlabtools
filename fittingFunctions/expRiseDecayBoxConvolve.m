function y = expRiseDecayBoxConvolve( x,W,k1,k2 )
    % k1 is decay, k2 is rise
    W = abs(W);
    y = zeros(size(x));
    y = y+(x>0).*(exp(1).^((-0.1E1).*k1.*x).*k1.^(-1).*(k1+k2).^(-1).*((0.1E1+ ...
  (-0.1E1).*exp(1).^((-0.1E1).*k1.*W)+(-0.1E1).*exp(1).^(( ...
  -0.1E1).*k2.*x)+0.1E1.*exp(1).^((-0.1E1).*k1.*W+(-0.1E1).* ...
  k2.*W+(-0.1E1).*k2.*x)).*k1+(0.1E1+(-0.1E1).*exp(1).^(( ...
  -0.1E1).*k1.*W)).*k2))/W;
    y = y+(x>=(-W)).*(x<=0).*(exp(1).^((-0.2E1).*(0.1E1.*k1+0.5E0.*k2).*(W+x)).*k1.^(-1).* ...
  (k1+k2).^(-1).*(exp(1).^(k1.*(W+x)).*k1+exp(1).^((k1+k2).*( ...
  W+x)).*((-0.1E1).*k1+(-0.1E1).*k2)+exp(1).^((2.*k1+k2).*(W+ ...
  x)).*k2))/W;
    y(isnan(y)) = 0;
end

